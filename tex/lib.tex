%%%%

%% Theorem-like environments

%% http://www.maths.tcd.ie/~dwilkins/LaTeXPrimer/Theorems.html
%% https://www.sharelatex.com/learn/Theorems_and_proofs
%% http://tex.stackexchange.com/a/46262
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{remark}{Remark}[chapter]
\newcommand{\remarkautorefname}{Remark}

%% Adapted from https://tex.stackexchange.com/q/45817
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{conjecture}{Conjecture}[section]
\newtheorem{example}{Example}[section]

%%%%

%% Misc

\newcommand{\term}[1]{\emph{#1}}
\newcommand{\idop}{\mathbbm{1}}           % Identity operator
\newcommand{\hilb}[1]{\mathcal{#1}}       % Hilbert space
\newcommand{\setof}[1]{\left\{#1\right\}}
\newcommand{\ox}{\otimes}

%% Allows better formatting than \underset
%% https://tex.stackexchange.com/a/130553
\DeclareMathOperator*{\repr}{\equiv}      % represented in a basis, or "has components..."

\renewcommand{\op}{\hat}                  % overwriting physics \op = \ketbra
%\newcommand{\eqbydef}{\coloneqq}
\newcommand{\eqbydef}{\triangleq}
\newcommand{\superop}{\mathcal}

\newcommand{\smallback}{\hspace{-0.115em}}
\newcommand{\largeback}{\hspace{-0.365em}}

\newcommand{\dket}[1]{\left.\left| #1 \right\rangle\smallback\right\rangle}
\newcommand{\Dket}[1]{\left.\left| #1 \right\rangle\largeback\right\rangle}
% and similar...
\newcommand{\dbra}[1]{\left\langle\smallback\left\langle #1 \right|\right.}
\newcommand{\dbraket}[2]{\left\langle\smallback\left\langle #1 \middle| #2 \right\rangle\right.}
\newcommand{\bradket}[2]{\left.\left\langle #1 \middle| #2 \right\rangle\smallback\right\rangle}
\newcommand{\dbradket}[2]{\left\langle\smallback\left\langle #1 \middle| #2 \right\rangle\smallback\right\rangle}
\newcommand{\dketdbra}[2]{\left| #1 \left\rangle\smallback\left\rangle \smallback \right\langle\smallback\right\langle #2 \right|}

\newcommand{\pwspace}{\hilb{H}_T \ox \hilb{H}_S}

\NewEnviron{eqsplit}{\begin{equation}\begin{split}\BODY\end{split}\end{equation}}
\NewEnviron{eqsplit*}{\begin{equation*}\begin{split}\BODY\end{split}\end{equation*}}
