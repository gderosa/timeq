\section{Projectors}

We shall assume, unless otherwise stated, that all vectors are
normalized to unity.

For a given observable represented by an operator $A$ with a
\emph{discrete, non degenerate spectrum}, the probability of the
outcome $a$ of a
measurement on a system in the pure state $\ket{\psi}$ is given by
$$
\pi_{a} = \norm{\braket{a}{\psi}}^2
        = \bra{\psi}\ket{a}\bra{a}\ket{\psi}
        = \mel{\psi}{P_{a}}{\psi}
$$
where $P_{a} = \ketbra{a}$ appears as the \term{projector} on the
one-dimensional eigenspace of  $a$.

If $a$ is degenerate, and $j = 1, \dots, J$ its degeneracy index,
such probability shall sum over it:
$$
\pi_{a} = \sum_{j=1}^{J}\norm{\braket{aj}{\psi}}^2
        = \sum_{j=1}^{J}\bra{\psi}\ket{aj}\bra{aj}\ket{\psi}
        = \mel{\psi}{P_{a}}{\psi}
$$
where $P_{a} = \sum_{j=1}^{J}\ketbra{aj}$
still is the projector on the
($J$-dimensional) eigenspace of $a$.

Generally, the probability that the outcome of a measuremen falls in
the set of eigenvalues $\sigma = \{a_{1}, \dots, a_{S}\}$ is
\begin{equation}\label{eq:pi_sigma}
\pi_{\sigma}  = \sum_{s=1}^{S}\sum_{j=1}^{J_{s}}\norm{\braket{sj}{\psi}}^2
              = \sum_{s=1}^{S}\sum_{j=1}^{J_{s}}\bra{\psi}\ket{sj}\bra{sj}\ket{\psi}
              = \mel{\psi}{P_{\sigma}}{\psi}
              ,
\end{equation}
where $P_{\sigma} = \sum_{s=1}^{S}\sum_{j=1}^{J_{s}}\ketbra{sj}$
is once again a projector --- on the ``generalized eigenspace'' spanned by all
eigenvectors $\{\ket{sj}\}$ above.

\section[Measure]{Measure\footnote{Not to be confused with \emph{measurement}.}}

\begin{remark}\label{measure_properties}
  Being $\pi_{\sigma}$ the \emph{probability} of the outcome of a measurement to
  fall in a given set $\sigma$, it has to be:
  \begin{enumerate}
    \item \label{measure_properties:first} $0$ on the empty set
    \item non negative
    \item \label{measure_properties:last} \term{additive} on disjoint sets
    \item equal to $1$ if $\sigma$ includes the whole spectrum of $A$.
  \end{enumerate}
\end{remark}

\begin{remark}
  Properties \ref{measure_properties:first}\dots\ref{measure_properties:last}
  are the defining properties of a \term{measure} \parencite{EncMath_Measure}.
\end{remark}

The probability $\pi_{\sigma}$ in \eqref{eq:pi_sigma} is linear with respect to the projector
$P_{\sigma}$ hence it's not difficult to derive that the same properties in
\autoref{measure_properties} applies to $P_{\sigma}$, \emph{in the operator sense}.
In fact, the map $\sigma \subseteq \mathbb{R} \rightarrow P_{\sigma}$
implicitly defined in~\eqref{eq:pi_sigma} is a \term{projector-valued measure}.

The result is generalized,
in such a way to include both discrete and continous spectra,
by the following \cite{VonNeumann, Ballentine}
\begin{theorem}[spectral resolution]
  If $A$ is a self-adjoint operator,
  there is a unique projector-valued measure $E$
  defined on the Borel sets of $\mathbb{R}$
  such that
  \footnote{
    In \eqref{eq:spectral}, $a$ is a real number (not a set),
    but it's intended $E$ to be evaluated
    on the~\emph{interval}~from $-\infty$ to $a$.
  }
  \begin{equation}\label{eq:spectral}
    A=\int_{-\infty}^{\infty}a\, dE(a)
  \end{equation}
  and satisfying:
  \begin{align*}
    E(\mathbb{R})       & =\mathbf{1},\\
    E(B_{1}\cap B_{2}) & =E(B_{1})E(B_{2})\,.
  \end{align*}
\end{theorem}

In terms of this theorem, the projector in \eqref{eq:pi_sigma} is
\begin{equation}\label{eq:P_sigma_spectral}
  P_{\sigma} = E(\sigma) = \int_{a\in\sigma}dE(a)
\end{equation}
and $dE(a)$ is
---informally speaking---
infinitesimal if $a$ belongs to the continous spectrum,
finite if $a$ is a discrete eigenvalue
and zero otherwise.

\section{Density operator}\label{app:density}

The above results apply to \term{pure states}.
More generally, a quantum state (either pure or \term{mixed}),
is described by a \term{density} (or \term{state}) operator $\rho$.
It's a well known result (see, for example, \cite{open_systems})
that the expectation value of an observable represented by the operator $A$
is given in this description by
\begin{equation}\label{eq:expvalA_rho}
  \expval{A} = \tr(A\rho)\,.
\end{equation}

The \eqref{eq:expvalA_rho} is valid for any hermitean operator $A$,
hence we can replace it with the projector $P_{\sigma}$,
associated to the set of eigenvalues $\sigma$
according to \eqref{eq:pi_sigma} and \eqref{eq:P_sigma_spectral},
which is of particular interest
because its mean value equates the probability that the outcome of a measurement
falls in a given subset of the spectrum of a given observable.
Hence we can derive:

\begin{proposition}\label{probability_rho}
  The probability $\pi_{\sigma}$
  that the outcome of a measurement of the observable $A$
  on the system described by the state operator $\rho$
  falls in the set $\sigma$
  is given by:
  \begin{equation}\label{eq:probability_rho}
    \pi_{\sigma} = \expval{P_{\sigma}} = \tr(P_{\sigma}\rho)
  \end{equation}
  with $P_{\sigma}$ defined as in \eqref{eq:pi_sigma}
  or, more generally, in \eqref{eq:P_sigma_spectral}.
\end{proposition}

\subsection{Properties of the density operator}
\subsubsection{Additivity}
The general expression for a density operator $\rho$ is
$$
  \rho = \sum_{k}p_{k}\ketbra{\psi_{k}}
$$
with $p_{k}$ non negative and $\sum_{k}p_{k} = 1$.

The condition is not restrictive to prevent proving the following
\begin{proposition}
  Let $A$ be an hermitean operator such that
  $$
    \tr(A\rho) = 0 
  $$
  \emph{for any density operator} $\rho$.

  It follows that $A = 0$.

  \begin{proof}
    We can choose,
    as basis to explicit the expresion of the trace,
    a complete set of eigenvectors $\{\ket{m}\}$ of $A$ and,
    for each positive integer $n$,
    a particular density operator $\rho = \ketbra{n}$,
    corresponding to a (pure) eigenstate of $A$.

    With this particular choice,
    for each $n$,
    $$
      A\rho = \mel{n}{A}{n}\ketbra{n}\,.
    $$
    It then follows:
    $$
      0 = \tr(A\rho) = \sum_{m}\mel{m}{ ( \mel{n}{A}{n}\ketbra{n} ) }{m}
        = \sum_{m} \mel{n}{A}{n} \braket{m}{n} \braket{n}{m}
        = \mel{n}{A}{n}\,,
    $$
    hence the generic diagonal element of the (diagonal) matrix of $A$ is null,
    and so is consequently the operator $A$ itself.
  \end{proof}
\end{proposition}

\begin{corollary}
If $\tr(A\rho) + \tr(B\rho) = \tr(C\rho)$ for any density operator $\rho$,
then $A + B = C$.
\end{corollary}
